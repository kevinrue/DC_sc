
```{r rm_ls, include=FALSE}
rm(list=ls())
```

```{r resetNamespace, include=FALSE}
resetBasePkgs <- function(
  pkgs = c(
    "stats","graphics","grDevices","utils","datasets","methods","base",
    "tools","backports","magrittr","rprojroot","htmltools","yaml","Rcpp",
    "stringi","rmarkdown","knitr","stringr","digest","evaluate"
  ),
  silent = TRUE,
  ...){
  repeat{
    rmPkgs <- setdiff(c(sessionInfo()$basePkgs, loadedNamespaces()), pkgs)
    if (!length(rmPkgs)) break
    for (pkg in rmPkgs) {
      message(pkg)
      try(unloadNamespace(pkg), silent = silent, ...)
    }
  }
}
resetBasePkgs(silent = FALSE)
```
